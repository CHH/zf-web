/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit._base.manager"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit._base.manager"]){_4._hasResource["dijit._base.manager"]=true;_4.provide("dijit._base.manager");_4.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_7){if(this._hash[_7.id]){throw new Error("Tried to register widget with id=="+_7.id+" but that id is already registered");}this._hash[_7.id]=_7;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_8,_9){_9=_9||_4.global;var i=0,id;for(id in this._hash){_8.call(_9,this._hash[id],i++,this._hash);}return this;},filter:function(_a,_b){_b=_b||_4.global;var _c=new _5.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_a.call(_b,w,i++,this._hash)){_c.add(w);}}return _c;},byId:function(id){return this._hash[id];},byClass:function(_d){var _e=new _5.WidgetSet(),id,_f;for(id in this._hash){_f=this._hash[id];if(_f.declaredClass==_d){_e.add(_f);}}return _e;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_10,_11){return _4.map(this.toArray(),_10,_11);},every:function(_12,_13){_13=_13||_4.global;var x=0,i;for(i in this._hash){if(!_12.call(_13,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_14,_15){_15=_15||_4.global;var x=0,i;for(i in this._hash){if(_14.call(_15,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(_16,_17){_17.registry=new _17.WidgetSet();var _18=_17.registry._hash;_17.byId=function(id){return typeof id=="string"?_18[id]:id;};var _19={};_17.getUniqueId=function(_1a){var id;do{id=_1a+"_"+(_1a in _19?++_19[_1a]:_19[_1a]=0);}while(_18[id]);return id;};_17.findWidgets=function(_1b){var _1c=[];function _1d(_1e){for(var _1f=_1e.firstChild;_1f;_1f=_1f.nextSibling){if(_1f.nodeType==1){var _20=_1f.getAttribute("widgetId");if(_20){_1c.push(_18[_20]);}else{_1d(_1f);}}}};_1d(_1b);return _1c;};_17._destroyAll=function(){_17._curFocus=null;_17._prevFocus=null;_17._activeStack=[];_16.forEach(_17.findWidgets(_16.body()),function(_21){if(!_21._destroyed){if(_21.destroyRecursive){_21.destroyRecursive();}else{if(_21.destroy){_21.destroy();}}}});};if(_16.isIE){_16.addOnWindowUnload(function(){_17._destroyAll();});}_17.byNode=function(_22){return _18[_22.getAttribute("widgetId")];};_17.getEnclosingWidget=function(_23){while(_23){var id=_23.getAttribute&&_23.getAttribute("widgetId");if(id){return _18[id];}_23=_23.parentNode;}return null;};_17._isElementShown=function(_24){var _25=_16.style(_24);return (_25.visibility!="hidden")&&(_25.visibility!="collapsed")&&(_25.display!="none")&&(_16.attr(_24,"type")!="hidden");};_17.isTabNavigable=function(_26){if(_16.attr(_26,"disabled")){return false;}else{if(_16.hasAttr(_26,"tabIndex")){return _16.attr(_26,"tabIndex")>=0;}else{switch(_26.nodeName.toLowerCase()){case "a":return _16.hasAttr(_26,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":if(_16.isMoz){return _26.contentDocument.designMode=="on";}else{if(_16.isWebKit){var doc=_26.contentDocument,_27=doc&&doc.body;return _27&&_27.contentEditable=="true";}else{doc=_26.contentWindow.document;_27=doc&&doc.body;return _27&&_27.firstChild&&_27.firstChild.contentEditable=="true";}}default:return _26.contentEditable=="true";}}}};_17._getTabNavigable=function(_28){var _29,_2a,_2b,_2c,_2d,_2e;var _2f=function(_30){_16.query("> *",_30).forEach(function(_31){var _32=_17._isElementShown(_31);if(_32&&_17.isTabNavigable(_31)){var _33=_16.attr(_31,"tabIndex");if(!_16.hasAttr(_31,"tabIndex")||_33==0){if(!_29){_29=_31;}_2a=_31;}else{if(_33>0){if(!_2b||_33<_2c){_2c=_33;_2b=_31;}if(!_2d||_33>=_2e){_2e=_33;_2d=_31;}}}}if(_32&&_31.nodeName.toUpperCase()!="SELECT"){_2f(_31);}});};if(_17._isElementShown(_28)){_2f(_28);}return {first:_29,last:_2a,lowest:_2b,highest:_2d};};_17.getFirstInTabbingOrder=function(_34){var _35=_17._getTabNavigable(_16.byId(_34));return _35.lowest?_35.lowest:_35.first;};_17.getLastInTabbingOrder=function(_36){var _37=_17._getTabNavigable(_16.byId(_36));return _37.last?_37.last:_37.highest;};_17.defaultDuration=_16.config["defaultDuration"]||200;})(_4,_5);}}};});
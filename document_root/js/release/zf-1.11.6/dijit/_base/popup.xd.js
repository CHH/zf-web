/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit._base.popup"],["require","dijit._base.focus"],["require","dijit._base.place"],["require","dijit._base.window"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit._base.popup"]){_4._hasResource["dijit._base.popup"]=true;_4.provide("dijit._base.popup");_4.require("dijit._base.focus");_4.require("dijit._base.place");_4.require("dijit._base.window");_5.popup={_stack:[],_beginZIndex:1000,_idGen:1,_wrappers:[],moveOffScreen:function(_7){var s=_7.style;s.visibility="hidden";s.position="absolute";s.top="-9999px";if(s.display=="none"){s.display="";}_4.body().appendChild(_7);},getTopPopup:function(){var _8=this._stack;for(var pi=_8.length-1;pi>0&&_8[pi].parent===_8[pi-1].widget;pi--){}return _8[pi];},open:function(_9){var _a=this._stack,_b=_9.popup,_c=_9.orient||(_4._isBodyLtr()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_d=_9.around,id=(_9.around&&_9.around.id)?(_9.around.id+"_dropdown"):("popup_"+this._idGen++);var _e=this._wrappers.pop(),_f,_10;if(!_e){_f=_4.create("div",{"class":"dijitPopup"},_4.body());_5.setWaiRole(_f,"presentation");}else{_f=_e[0];_10=_e[1];}_4.attr(_f,{id:id,style:{zIndex:this._beginZIndex+_a.length,visibility:"hidden",top:"-9999px"},"class":"dijitPopup "+(_b.baseClass||_b["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:_9.parent?_9.parent.id:""});var s=_b.domNode.style;s.display="";s.visibility="";s.position="";s.top="0px";_f.appendChild(_b.domNode);if(!_10){_10=new _5.BackgroundIframe(_f);}else{_10.resize(_f);}var _11=_d?_5.placeOnScreenAroundElement(_f,_d,_c,_b.orient?_4.hitch(_b,"orient"):null):_5.placeOnScreen(_f,_9,_c=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_9.padding);_f.style.visibility="visible";var _12=[];_12.push(_4.connect(_f,"onkeypress",this,function(evt){if(evt.charOrCode==_4.keys.ESCAPE&&_9.onCancel){_4.stopEvent(evt);_9.onCancel();}else{if(evt.charOrCode===_4.keys.TAB){_4.stopEvent(evt);var _13=this.getTopPopup();if(_13&&_13.onCancel){_13.onCancel();}}}}));if(_b.onCancel){_12.push(_4.connect(_b,"onCancel",_9.onCancel));}_12.push(_4.connect(_b,_b.onExecute?"onExecute":"onChange",this,function(){var _14=this.getTopPopup();if(_14&&_14.onExecute){_14.onExecute();}}));_a.push({wrapper:_f,iframe:_10,widget:_b,parent:_9.parent,onExecute:_9.onExecute,onCancel:_9.onCancel,onClose:_9.onClose,handlers:_12});if(_b.onOpen){_b.onOpen(_11);}return _11;},close:function(_15){var _16=this._stack;while(_4.some(_16,function(_17){return _17.widget==_15;})){var top=_16.pop(),_18=top.wrapper,_19=top.iframe,_1a=top.widget,_1b=top.onClose;if(_1a.onClose){_1a.onClose();}_4.forEach(top.handlers,_4.disconnect);if(_1a&&_1a.domNode){this.moveOffScreen(_1a.domNode);}_18.style.top="-9999px";_18.style.visibility="hidden";this._wrappers.push([_18,_19]);if(_1b){_1b();}}}};_5._frames=new function(){var _1c=[];this.pop=function(){var _1d;if(_1c.length){_1d=_1c.pop();_1d.style.display="";}else{if(_4.isIE){var _1e=_4.config["dojoBlankHtmlUrl"]||(_4.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var _1f="<iframe src='"+_1e+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_1d=_4.doc.createElement(_1f);}else{_1d=_4.create("iframe");_1d.src="javascript:\"\"";_1d.className="dijitBackgroundIframe";_4.style(_1d,"opacity",0.1);}_1d.tabIndex=-1;}return _1d;};this.push=function(_20){_20.style.display="none";_1c.push(_20);};}();_5.BackgroundIframe=function(_21){if(!_21.id){throw new Error("no id");}if(_4.isIE||_4.isMoz){var _22=_5._frames.pop();_21.appendChild(_22);if(_4.isIE<7){this.resize(_21);this._conn=_4.connect(_21,"onresize",this,function(){this.resize(_21);});}else{_4.style(_22,{width:"100%",height:"100%"});}this.iframe=_22;}};_4.extend(_5.BackgroundIframe,{resize:function(_23){if(this.iframe&&_4.isIE<7){_4.style(this.iframe,{width:_23.offsetWidth+"px",height:_23.offsetHeight+"px"});}},destroy:function(){if(this._conn){_4.disconnect(this._conn);this._conn=null;}if(this.iframe){_5._frames.push(this.iframe);delete this.iframe;}}});}}};});
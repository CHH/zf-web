/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit.layout.BorderContainer"],["require","dijit.layout._LayoutWidget"],["require","dojo.cookie"],["require","dijit._Templated"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit.layout.BorderContainer"]){_4._hasResource["dijit.layout.BorderContainer"]=true;_4.provide("dijit.layout.BorderContainer");_4.require("dijit.layout._LayoutWidget");_4.require("dojo.cookie");_4.declare("dijit.layout.BorderContainer",_5.layout._LayoutWidget,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:"dijit.layout._Splitter",postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._splitters={};this._splitterThickness={};},startup:function(){if(this._started){return;}_4.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_7){var _8=_7.region;if(_8){this.inherited(arguments);_4.addClass(_7.domNode,this.baseClass+"Pane");var _9=this.isLeftToRight();if(_8=="leading"){_8=_9?"left":"right";}if(_8=="trailing"){_8=_9?"right":"left";}this["_"+_8]=_7.domNode;this["_"+_8+"Widget"]=_7;if((_7.splitter||this.gutters)&&!this._splitters[_8]){var _a=_4.getObject(_7.splitter?this._splitterClass:"dijit.layout._Gutter");var _b=new _a({container:this,child:_7,region:_8,live:this.liveSplitters});_b.isSplitter=true;this._splitters[_8]=_b.domNode;_4.place(this._splitters[_8],_7.domNode,"after");_b.startup();}_7.region=_8;}},_computeSplitterThickness:function(_c){this._splitterThickness[_c]=this._splitterThickness[_c]||_4.marginBox(this._splitters[_c])[(/top|bottom/.test(_c)?"h":"w")];},layout:function(){for(var _d in this._splitters){this._computeSplitterThickness(_d);}this._layoutChildren();},addChild:function(_e,_f){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_10){var _11=_10.region;var _12=this._splitters[_11];if(_12){_5.byNode(_12).destroy();delete this._splitters[_11];delete this._splitterThickness[_11];}this.inherited(arguments);delete this["_"+_11];delete this["_"+_11+"Widget"];if(this._started){this._layoutChildren(_10.region);}_4.removeClass(_10.domNode,this.baseClass+"Pane");},getChildren:function(){return _4.filter(this.inherited(arguments),function(_13){return !_13.isSplitter;});},getSplitter:function(_14){var _15=this._splitters[_14];return _15?_5.byNode(_15):null;},resize:function(_16,_17){if(!this.cs||!this.pe){var _18=this.domNode;this.cs=_4.getComputedStyle(_18);this.pe=_4._getPadExtents(_18,this.cs);this.pe.r=_4._toPixelValue(_18,this.cs.paddingRight);this.pe.b=_4._toPixelValue(_18,this.cs.paddingBottom);_4.style(_18,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_19){if(!this._borderBox||!this._borderBox.h){return;}var _1a=(this.design=="sidebar");var _1b=0,_1c=0,_1d=0,_1e=0;var _1f={},_20={},_21={},_22={},_23=(this._center&&this._center.style)||{};var _24=/left|right/.test(_19);var _25=!_19||(!_24&&!_1a);var _26=!_19||(_24&&_1a);if(this._top){_1f=_26&&this._top.style;_1b=_4.marginBox(this._top).h;}if(this._left){_20=_25&&this._left.style;_1d=_4.marginBox(this._left).w;}if(this._right){_21=_25&&this._right.style;_1e=_4.marginBox(this._right).w;}if(this._bottom){_22=_26&&this._bottom.style;_1c=_4.marginBox(this._bottom).h;}var _27=this._splitters;var _28=_27.top,_29=_27.bottom,_2a=_27.left,_2b=_27.right;var _2c=this._splitterThickness;var _2d=_2c.top||0,_2e=_2c.left||0,_2f=_2c.right||0,_30=_2c.bottom||0;if(_2e>50||_2f>50){setTimeout(_4.hitch(this,function(){this._splitterThickness={};for(var _31 in this._splitters){this._computeSplitterThickness(_31);}this._layoutChildren();}),50);return false;}var pe=this.pe;var _32={left:(_1a?_1d+_2e:0)+pe.l+"px",right:(_1a?_1e+_2f:0)+pe.r+"px"};if(_28){_4.mixin(_28.style,_32);_28.style.top=_1b+pe.t+"px";}if(_29){_4.mixin(_29.style,_32);_29.style.bottom=_1c+pe.b+"px";}_32={top:(_1a?0:_1b+_2d)+pe.t+"px",bottom:(_1a?0:_1c+_30)+pe.b+"px"};if(_2a){_4.mixin(_2a.style,_32);_2a.style.left=_1d+pe.l+"px";}if(_2b){_4.mixin(_2b.style,_32);_2b.style.right=_1e+pe.r+"px";}_4.mixin(_23,{top:pe.t+_1b+_2d+"px",left:pe.l+_1d+_2e+"px",right:pe.r+_1e+_2f+"px",bottom:pe.b+_1c+_30+"px"});var _33={top:_1a?pe.t+"px":_23.top,bottom:_1a?pe.b+"px":_23.bottom};_4.mixin(_20,_33);_4.mixin(_21,_33);_20.left=pe.l+"px";_21.right=pe.r+"px";_1f.top=pe.t+"px";_22.bottom=pe.b+"px";if(_1a){_1f.left=_22.left=_1d+_2e+pe.l+"px";_1f.right=_22.right=_1e+_2f+pe.r+"px";}else{_1f.left=_22.left=pe.l+"px";_1f.right=_22.right=pe.r+"px";}var _34=this._borderBox.h-pe.t-pe.b,_35=_34-(_1b+_2d+_1c+_30),_36=_1a?_34:_35;var _37=this._borderBox.w-pe.l-pe.r,_38=_37-(_1d+_2e+_1e+_2f),_39=_1a?_38:_37;var dim={top:{w:_39,h:_1b},bottom:{w:_39,h:_1c},left:{w:_1d,h:_36},right:{w:_1e,h:_36},center:{h:_35,w:_38}};var _3a=_4.isIE<8||(_4.isIE&&_4.isQuirks)||_4.some(this.getChildren(),function(_3b){return _3b.domNode.tagName=="TEXTAREA"||_3b.domNode.tagName=="INPUT";});if(_3a){var _3c=function(_3d,_3e,_3f){if(_3d){(_3d.resize?_3d.resize(_3e,_3f):_4.marginBox(_3d.domNode,_3e));}};if(_2a){_2a.style.height=_36;}if(_2b){_2b.style.height=_36;}_3c(this._leftWidget,{h:_36},dim.left);_3c(this._rightWidget,{h:_36},dim.right);if(_28){_28.style.width=_39;}if(_29){_29.style.width=_39;}_3c(this._topWidget,{w:_39},dim.top);_3c(this._bottomWidget,{w:_39},dim.bottom);_3c(this._centerWidget,dim.center);}else{var _40={};if(_19){_40[_19]=_40.center=true;if(/top|bottom/.test(_19)&&this.design!="sidebar"){_40.left=_40.right=true;}else{if(/left|right/.test(_19)&&this.design=="sidebar"){_40.top=_40.bottom=true;}}}_4.forEach(this.getChildren(),function(_41){if(_41.resize&&(!_19||_41.region in _40)){_41.resize(null,dim[_41.region]);}},this);}},destroy:function(){for(var _42 in this._splitters){var _43=this._splitters[_42];_5.byNode(_43).destroy();_4.destroy(_43);}delete this._splitters;delete this._splitterThickness;this.inherited(arguments);}});_4.extend(_5._Widget,{region:"",splitter:false,minSize:0,maxSize:Infinity});_4.require("dijit._Templated");_4.declare("dijit.layout._Splitter",[_5._Widget,_5._Templated],{live:true,templateString:"<div class=\"dijitSplitter\" dojoAttachEvent=\"onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" waiRole=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",postCreate:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);_4.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;if(this.container.persist){var _44=_4.cookie(this._cookieName);if(_44){this.child.domNode.style[this.horizontal?"height":"width"]=_44;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_45=this.container._splitterThickness[this.region];var _46={left:"right",right:"left",top:"bottom",bottom:"top",leading:"trailing",trailing:"leading"},_47=this.container["_"+_46[this.region]];var _48=_4.contentBox(this.container.domNode)[dim]-(_47?_4.marginBox(_47)[dim]:0)-20-_45*2;return Math.min(this.child.maxSize,_48);},_startDrag:function(e){if(!this.cover){this.cover=_4.doc.createElement("div");_4.addClass(this.cover,"dijitSplitterCover");_4.place(this.cover,this.child.domNode,"after");}_4.addClass(this.cover,"dijitSplitterCoverActive");if(this.fake){_4.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_4.addClass(this.domNode,"dijitSplitterShadow");_4.place(this.fake,this.domNode,"after");}_4.addClass(this.domNode,"dijitSplitterActive");_4.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_4.removeClass(this.fake,"dijitSplitterHover");_4.removeClass(this.fake,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _49=this._factor,max=this._computeMaxSize(),min=this.child.minSize||20,_4a=this.horizontal,_4b=_4a?"pageY":"pageX",_4c=e[_4b],_4d=this.domNode.style,dim=_4a?"h":"w",_4e=_4.marginBox(this.child.domNode)[dim],_4f=this.region,_50=parseInt(this.domNode.style[_4f],10),_51=this._resize,mb={},_52=this.child.domNode,_53=_4.hitch(this.container,this.container._layoutChildren),de=_4.doc.body;this._handlers=(this._handlers||[]).concat([_4.connect(de,"onmousemove",this._drag=function(e,_54){var _55=e[_4b]-_4c,_56=_49*_55+_4e,_57=Math.max(Math.min(_56,max),min);if(_51||_54){mb[dim]=_57;_4.marginBox(_52,mb);_53(_4f);}_4d[_4f]=_49*_55+_50+(_57-_56)+"px";}),_4.connect(_4.doc,"ondragstart",_4.stopEvent),_4.connect(_4.body(),"onselectstart",_4.stopEvent),_4.connect(de,"onmouseup",this,"_stopDrag")]);_4.stopEvent(e);},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_4.toggleClass(this.domNode,"dijitSplitterHover",o);_4.toggleClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_4.removeClass(this.cover,"dijitSplitterCoverActive");}if(this.fake){_4.destroy(this.fake);}_4.removeClass(this.domNode,"dijitSplitterActive");_4.removeClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Active");_4.removeClass(this.domNode,"dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_4.cookie(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){_4.forEach(this._handlers,_4.disconnect);delete this._handlers;},_onKeyPress:function(e){this._resize=true;var _58=this.horizontal;var _59=1;var dk=_4.keys;switch(e.charOrCode){case _58?dk.UP_ARROW:dk.LEFT_ARROW:_59*=-1;case _58?dk.DOWN_ARROW:dk.RIGHT_ARROW:break;default:return;}var _5a=_4.marginBox(this.child.domNode)[_58?"h":"w"]+this._factor*_59;var mb={};mb[this.horizontal?"h":"w"]=Math.max(Math.min(_5a,this._computeMaxSize()),this.child.minSize);_4.marginBox(this.child.domNode,mb);this.container._layoutChildren(this.region);_4.stopEvent(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});_4.declare("dijit.layout._Gutter",[_5._Widget,_5._Templated],{templateString:"<div class=\"dijitGutter\" waiRole=\"presentation\"></div>",postCreate:function(){this.horizontal=/top|bottom/.test(this.region);_4.addClass(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});}}};});
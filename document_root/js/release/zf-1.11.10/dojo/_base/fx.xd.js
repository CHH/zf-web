/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojo._base.fx"],["require","dojo._base.Color"],["require","dojo._base.connect"],["require","dojo._base.lang"],["require","dojo._base.html"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojo._base.fx"]){_4._hasResource["dojo._base.fx"]=true;_4.provide("dojo._base.fx");_4.require("dojo._base.Color");_4.require("dojo._base.connect");_4.require("dojo._base.lang");_4.require("dojo._base.html");(function(){var d=_4;var _7=d._mixin;_4._Line=function(_8,_9){this.start=_8;this.end=_9;};_4._Line.prototype.getValue=function(n){return ((this.end-this.start)*n)+this.start;};_4.Animation=function(_a){_7(this,_a);if(d.isArray(this.curve)){this.curve=new d._Line(this.curve[0],this.curve[1]);}};d._Animation=d.Animation;d.extend(_4.Animation,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _b=this._percent,_c=this.easing;return _c?_c(_b):_b;},_fire:function(_d,_e){var a=_e||[];if(this[_d]){if(d.config.debugAtAllCosts){this[_d].apply(this,a);}else{try{this[_d].apply(this,a);}catch(e){console.error("exception in animation handler for:",_d);console.error(e);}}}return this;},play:function(_f,_10){var _11=this;if(_11._delayTimer){_11._clearTimer();}if(_10){_11._stopTimer();_11._active=_11._paused=false;_11._percent=0;}else{if(_11._active&&!_11._paused){return _11;}}_11._fire("beforeBegin",[_11.node]);var de=_f||_11.delay,_12=_4.hitch(_11,"_play",_10);if(de>0){_11._delayTimer=setTimeout(_12,de);return _11;}_12();return _11;},_play:function(_13){var _14=this;if(_14._delayTimer){_14._clearTimer();}_14._startTime=new Date().valueOf();if(_14._paused){_14._startTime-=_14.duration*_14._percent;}_14._endTime=_14._startTime+_14.duration;_14._active=true;_14._paused=false;var _15=_14.curve.getValue(_14._getStep());if(!_14._percent){if(!_14._startRepeatCount){_14._startRepeatCount=_14.repeat;}_14._fire("onBegin",[_15]);}_14._fire("onPlay",[_15]);_14._cycle();return _14;},pause:function(){var _16=this;if(_16._delayTimer){_16._clearTimer();}_16._stopTimer();if(!_16._active){return _16;}_16._paused=true;_16._fire("onPause",[_16.curve.getValue(_16._getStep())]);return _16;},gotoPercent:function(_17,_18){var _19=this;_19._stopTimer();_19._active=_19._paused=true;_19._percent=_17;if(_18){_19.play();}return _19;},stop:function(_1a){var _1b=this;if(_1b._delayTimer){_1b._clearTimer();}if(!_1b._timer){return _1b;}_1b._stopTimer();if(_1a){_1b._percent=1;}_1b._fire("onStop",[_1b.curve.getValue(_1b._getStep())]);_1b._active=_1b._paused=false;return _1b;},status:function(){if(this._active){return this._paused?"paused":"playing";}return "stopped";},_cycle:function(){var _1c=this;if(_1c._active){var _1d=new Date().valueOf();var _1e=(_1d-_1c._startTime)/(_1c._endTime-_1c._startTime);if(_1e>=1){_1e=1;}_1c._percent=_1e;if(_1c.easing){_1e=_1c.easing(_1e);}_1c._fire("onAnimate",[_1c.curve.getValue(_1e)]);if(_1c._percent<1){_1c._startTimer();}else{_1c._active=false;if(_1c.repeat>0){_1c.repeat--;_1c.play(null,true);}else{if(_1c.repeat==-1){_1c.play(null,true);}else{if(_1c._startRepeatCount){_1c.repeat=_1c._startRepeatCount;_1c._startRepeatCount=0;}}}_1c._percent=0;_1c._fire("onEnd",[_1c.node]);!_1c.repeat&&_1c._stopTimer();}}return _1c;},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer;}});var ctr=0,_1f=[],_20=null,_21={run:function(){}};d.extend(d.Animation,{_startTimer:function(){if(!this._timer){this._timer=d.connect(_21,"run",this,"_cycle");ctr++;}if(!_20){_20=setInterval(d.hitch(_21,"run"),this.rate);}},_stopTimer:function(){if(this._timer){d.disconnect(this._timer);this._timer=null;ctr--;}if(ctr<=0){clearInterval(_20);_20=null;ctr=0;}}});var _22=d.isIE?function(_23){var ns=_23.style;if(!ns.width.length&&d.style(_23,"width")=="auto"){ns.width="auto";}}:function(){};_4._fade=function(_24){_24.node=d.byId(_24.node);var _25=_7({properties:{}},_24),_26=(_25.properties.opacity={});_26.start=!("start" in _25)?function(){return +d.style(_25.node,"opacity")||0;}:_25.start;_26.end=_25.end;var _27=d.animateProperty(_25);d.connect(_27,"beforeBegin",d.partial(_22,_25.node));return _27;};_4.fadeIn=function(_28){return d._fade(_7({end:1},_28));};_4.fadeOut=function(_29){return d._fade(_7({end:0},_29));};_4._defaultEasing=function(n){return 0.5+((Math.sin((n+1.5)*Math.PI))/2);};var _2a=function(_2b){this._properties=_2b;for(var p in _2b){var _2c=_2b[p];if(_2c.start instanceof d.Color){_2c.tempColor=new d.Color();}}};_2a.prototype.getValue=function(r){var ret={};for(var p in this._properties){var _2d=this._properties[p],_2e=_2d.start;if(_2e instanceof d.Color){ret[p]=d.blendColors(_2e,_2d.end,r,_2d.tempColor).toCss();}else{if(!d.isArray(_2e)){ret[p]=((_2d.end-_2e)*r)+_2e+(p!="opacity"?_2d.units||"px":0);}}}return ret;};_4.animateProperty=function(_2f){var n=_2f.node=d.byId(_2f.node);if(!_2f.easing){_2f.easing=d._defaultEasing;}var _30=new d.Animation(_2f);d.connect(_30,"beforeBegin",_30,function(){var pm={};for(var p in this.properties){if(p=="width"||p=="height"){this.node.display="block";}var _31=this.properties[p];if(d.isFunction(_31)){_31=_31(n);}_31=pm[p]=_7({},(d.isObject(_31)?_31:{end:_31}));if(d.isFunction(_31.start)){_31.start=_31.start(n);}if(d.isFunction(_31.end)){_31.end=_31.end(n);}var _32=(p.toLowerCase().indexOf("color")>=0);function _33(_34,p){var v={height:_34.offsetHeight,width:_34.offsetWidth}[p];if(v!==undefined){return v;}v=d.style(_34,p);return (p=="opacity")?+v:(_32?v:parseFloat(v));};if(!("end" in _31)){_31.end=_33(n,p);}else{if(!("start" in _31)){_31.start=_33(n,p);}}if(_32){_31.start=new d.Color(_31.start);_31.end=new d.Color(_31.end);}else{_31.start=(p=="opacity")?+_31.start:parseFloat(_31.start);}}this.curve=new _2a(pm);});d.connect(_30,"onAnimate",d.hitch(d,"style",_30.node));return _30;};_4.anim=function(_35,_36,_37,_38,_39,_3a){return d.animateProperty({node:_35,duration:_37||d.Animation.prototype.duration,properties:_36,easing:_38,onEnd:_39}).play(_3a||0);};})();}}};});
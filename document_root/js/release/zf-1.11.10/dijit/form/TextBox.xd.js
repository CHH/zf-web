/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit.form.TextBox"],["require","dijit.form._FormWidget"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit.form.TextBox"]){_4._hasResource["dijit.form.TextBox"]=true;_4.provide("dijit.form.TextBox");_4.require("dijit.form._FormWidget");_4.declare("dijit.form.TextBox",_5.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,templateString:_4.cache("dijit.form","templates/TextBox.html","<input class=\"dijit dijitReset dijitLeft\" dojoAttachPoint='textbox,focusNode'\n\tautocomplete=\"off\" type=\"${type}\" ${nameAttrSetting}\n\t/>\n"),baseClass:"dijitTextBox",attributeMap:_4.delegate(_5.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),_getValueAttr:function(){return this.parse(this.attr("displayedValue"),this.constraints);},_setValueAttr:function(_7,_8,_9){var _a;if(_7!==undefined){_a=this.filter(_7);if(typeof _9!="string"){if(_a!==null&&((typeof _a!="number")||!isNaN(_a))){_9=this.filter(this.format(_a,this.constraints));}else{_9="";}}}if(_9!=null&&_9!=undefined&&((typeof _9)!="number"||!isNaN(_9))&&this.textbox.value!=_9){this.textbox.value=_9;}this.inherited(arguments,[_a,_8]);},displayedValue:"",getDisplayedValue:function(){_4.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use attr('displayedValue') instead.","","2.0");return this.attr("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_b){_4.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use attr('displayedValue', ...) instead.","","2.0");this.attr("displayedValue",_b);},_setDisplayedValueAttr:function(_c){if(_c===null||_c===undefined){_c="";}else{if(typeof _c!="string"){_c=String(_c);}}this.textbox.value=_c;this._setValueAttr(this.attr("value"),undefined,_c);},format:function(_d,_e){return ((_d==null||_d==undefined)?"":(_d.toString?_d.toString():_d));},parse:function(_f,_10){return _f;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case _4.keys.SHIFT:case _4.keys.ALT:case _4.keys.CTRL:case _4.keys.TAB:return;}}if(this.intermediateChanges){var _11=this;setTimeout(function(){_11._handleOnChange(_11.attr("value"),false);},0);}this._refreshState();},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(_4.isMoz||_4.isOpera){this.connect(this.textbox,"oninput",this._onInput);}else{this.connect(this.textbox,"onkeydown",this._onInput);this.connect(this.textbox,"onkeyup",this._onInput);this.connect(this.textbox,"onpaste",this._onInput);this.connect(this.textbox,"oncut",this._onInput);}},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=_4.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(_12){return _12.substring(0,1).toUpperCase()+_12.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.attr("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}if(this.selectOnClick&&_4.isMoz){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);var _13;if(_4.isIE){var _14=_4.doc.selection.createRange();var _15=_14.parentElement();_13=_15==this.textbox&&_14.text.length==0;}else{_13=this.textbox.selectionStart==this.textbox.selectionEnd;}if(_13){_5.selectInputText(this.textbox);}});}this._refreshState();this.inherited(arguments);},reset:function(){this.textbox.value="";this.inherited(arguments);}});_5.selectInputText=function(_16,_17,_18){var _19=_4.global;var _1a=_4.doc;_16=_4.byId(_16);if(isNaN(_17)){_17=0;}if(isNaN(_18)){_18=_16.value?_16.value.length:0;}_5.focus(_16);if(_1a["selection"]&&_4.body()["createTextRange"]){if(_16.createTextRange){var _1b=_16.createTextRange();with(_1b){collapse(true);moveStart("character",-99999);moveStart("character",_17);moveEnd("character",_18-_17);select();}}}else{if(_19["getSelection"]){if(_16.setSelectionRange){_16.setSelectionRange(_17,_18);}}}};}}};});
/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit.form._FormWidget"],["require","dijit._Widget"],["require","dijit._Templated"],["require","dijit._CssStateMixin"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit.form._FormWidget"]){_4._hasResource["dijit.form._FormWidget"]=true;_4.provide("dijit.form._FormWidget");_4.require("dijit._Widget");_4.require("dijit._Templated");_4.require("dijit._CssStateMixin");_4.declare("dijit.form._FormWidget",[_5._Widget,_5._Templated,_5._CssStateMixin],{name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:_4.delegate(_5._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},_setDisabledAttr:function(_7){this.disabled=_7;_4.attr(this.focusNode,"disabled",_7);if(this.valueNode){_4.attr(this.valueNode,"disabled",_7);}_5.setWaiState(this.focusNode,"disabled",_7);if(_7){this._hovering=false;this._active=false;this.focusNode.setAttribute("tabIndex","-1");}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}},setDisabled:function(_8){_4.deprecated("setDisabled("+_8+") is deprecated. Use attr('disabled',"+_8+") instead.","","2.0");this.attr("disabled",_8);},_onFocus:function(e){if(this.scrollOnFocus){_5.scrollIntoView(this.domNode);}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(_4.style(this.domNode,"display")!="none");},focus:function(){_5.focus(this.focusNode);},compare:function(_9,_a){if(typeof _9=="number"&&typeof _a=="number"){return (isNaN(_9)&&isNaN(_a))?0:_9-_a;}else{if(_9>_a){return 1;}else{if(_9<_a){return -1;}else{return 0;}}}},onChange:function(_b){},_onChangeActive:false,_handleOnChange:function(_c,_d){this._lastValue=_c;if(this._lastValueReported==undefined&&(_d===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_c;}if((this.intermediateChanges||_d||_d===undefined)&&((typeof _c!=typeof this._lastValueReported)||this.compare(_c,this._lastValueReported)!=0)){this._lastValueReported=_c;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(_4.hitch(this,function(){this._onChangeHandle=null;this.onChange(_c);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function(_e){_4.deprecated("dijit.form._FormWidget:setValue("+_e+") is deprecated.  Use attr('value',"+_e+") instead.","","2.0");this.attr("value",_e);},getValue:function(){_4.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");}});_4.declare("dijit.form._FormValueWidget",_5.form._FormWidget,{readOnly:false,attributeMap:_4.delegate(_5.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_f){this.readOnly=_f;_4.attr(this.focusNode,"readOnly",_f);_5.setWaiState(this.focusNode,"readonly",_f);},postCreate:function(){this.inherited(arguments);if(_4.isIE){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}this.connect(this.domNode,"onmousedown","_onMouseDown");},_setValueAttr:function(_10,_11){this.value=_10;this._handleOnChange(_10,_11);},_getValueAttr:function(){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==_4.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(_4.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=_4.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}},_onMouseDown:function(e){var _12=this.connect(_4.body(),"onmouseup",function(){if(this.isFocusable()){this.focus();}this.disconnect(_12);});},_layoutHackIE7:function(){if(_4.isIE==7){var _13=this.domNode;var _14=_13.parentNode;var _15=_13.firstChild||_13;var _16=_15.style.filter;while(_14&&_14.clientHeight==0){_14._disconnectHandle=this.connect(_14,"onscroll",_4.hitch(this,function(e){this.disconnect(_14._disconnectHandle);_14.removeAttribute("_disconnectHandle");_15.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_15.style.filter=_16;},0);}));_14=_14.parentNode;}}}});}}};});
/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit._KeyNavContainer"],["require","dijit._Container"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit._KeyNavContainer"]){_4._hasResource["dijit._KeyNavContainer"]=true;_4.provide("dijit._KeyNavContainer");_4.require("dijit._Container");_4.declare("dijit._KeyNavContainer",_5._Container,{tabIndex:"0",_keyNavCodes:{},connectKeyNavHandlers:function(_7,_8){var _9=(this._keyNavCodes={});var _a=_4.hitch(this,this.focusPrev);var _b=_4.hitch(this,this.focusNext);_4.forEach(_7,function(_c){_9[_c]=_a;});_4.forEach(_8,function(_d){_9[_d]=_b;});this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){_4.forEach(this.getChildren(),_4.hitch(this,"_startupChild"));},addChild:function(_e,_f){_5._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_e);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){var _10=this._getFirstFocusableChild();if(_10){this.focusChild(_10);}},focusNext:function(){var _11=this._getNextFocusableChild(this.focusedChild,1);this.focusChild(_11);},focusPrev:function(){var _12=this._getNextFocusableChild(this.focusedChild,-1);this.focusChild(_12,true);},focusChild:function(_13,_14){if(this.focusedChild&&_13!==this.focusedChild){this._onChildBlur(this.focusedChild);}_13.focus(_14?"end":"start");this.focusedChild=_13;},_startupChild:function(_15){_15.attr("tabIndex","-1");this.connect(_15,"_onFocus",function(){_15.attr("tabIndex",this.tabIndex);});this.connect(_15,"_onBlur",function(){_15.attr("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode){return;}this.focusFirstChild();_4.attr(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){_4.attr(this.domNode,"tabIndex",this.tabIndex);}this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var _16=this._keyNavCodes[evt.charOrCode];if(_16){_16();_4.stopEvent(evt);}},_onChildBlur:function(_17){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getNextFocusableChild:function(_18,dir){if(_18){_18=this._getSiblingOfChild(_18,dir);}var _19=this.getChildren();for(var i=0;i<_19.length;i++){if(!_18){_18=_19[(dir>0)?0:(_19.length-1)];}if(_18.isFocusable()){return _18;}_18=this._getSiblingOfChild(_18,dir);}return null;}});}}};});
/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.json.query"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.json.query"]){_4._hasResource["dojox.json.query"]=true;_4.provide("dojox.json.query");(function(){function s(_7,_8,_9,_a){var _b=_7.length,_c=[];_9=_9||_b;_8=(_8<0)?Math.max(0,_8+_b):Math.min(_b,_8);_9=(_9<0)?Math.max(0,_9+_b):Math.min(_b,_9);for(var i=_8;i<_9;i+=_a){_c.push(_7[i]);}return _c;};function e(_d,_e){var _f=[];function _10(obj){if(_e){if(_e===true&&!(obj instanceof Array)){_f.push(obj);}else{if(obj[_e]){_f.push(obj[_e]);}}}for(var i in obj){var val=obj[i];if(!_e){_f.push(val);}else{if(val&&typeof val=="object"){_10(val);}}}};if(_e instanceof Array){if(_e.length==1){return _d[_e[0]];}for(var i=0;i<_e.length;i++){_f.push(_d[_e[i]]);}}else{_10(_d);}return _f;};function _11(_12,_13){var _14=[];var _15={};for(var i=0,l=_12.length;i<l;++i){var _16=_12[i];if(_13(_16,i,_12)){if((typeof _16=="object")&&_16){if(!_16.__included){_16.__included=true;_14.push(_16);}}else{if(!_15[_16+typeof _16]){_15[_16+typeof _16]=true;_14.push(_16);}}}}for(i=0,l=_14.length;i<l;++i){if(_14[i]){delete _14[i].__included;}}return _14;};_6.json.query=function(_17,obj){var _18=0;var str=[];_17=_17.replace(/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'|[\[\]]/g,function(t){_18+=t=="["?1:t=="]"?-1:0;return (t=="]"&&_18>0)?"`]":(t.charAt(0)=="\""||t.charAt(0)=="'")?"`"+(str.push(t)-1):t;});var _19="";function _1a(_1b){_19=_1b+"("+_19;};function _1c(t,a,b,c,d,e,f,g){return str[g].match(/[\*\?]/)||f=="~"?"/^"+str[g].substring(1,str[g].length-1).replace(/\\([btnfr\\"'])|([^\w\*\?])/g,"\\$1$2").replace(/([\*\?])/g,"[\\w\\W]$1")+(f=="~"?"$/i":"$/")+".test("+a+")":t;};_17.replace(/(\]|\)|push|pop|shift|splice|sort|reverse)\s*\(/,function(){throw new Error("Unsafe function call");});_17=_17.replace(/([^=]=)([^=])/g,"$1=$2").replace(/@|(\.\s*)?[a-zA-Z\$_]+(\s*:)?/g,function(t){return t.charAt(0)=="."?t:t=="@"?"$obj":(t.match(/:|^(\$|Math|true|false|null)$/)?"":"$obj.")+t;}).replace(/\.?\.?\[(`\]|[^\]])*\]|\?.*|\.\.([\w\$_]+)|\.\*/g,function(t,a,b){var _1d=t.match(/^\.?\.?(\[\s*\^?\?|\^?\?|\[\s*==)(.*?)\]?$/);if(_1d){var _1e="";if(t.match(/^\./)){_1a("e");_1e=",true)";}_1a(_1d[1].match(/\=/)?"dojo.map":_1d[1].match(/\^/)?"distinctFilter":"dojo.filter");return _1e+",function($obj){return "+_1d[2]+"})";}_1d=t.match(/^\[\s*([\/\\].*)\]/);if(_1d){return ".concat().sort(function(a,b){"+_1d[1].replace(/\s*,?\s*([\/\\])\s*([^,\\\/]+)/g,function(t,a,b){return "var av= "+b.replace(/\$obj/,"a")+",bv= "+b.replace(/\$obj/,"b")+";if(av>bv||bv==null){return "+(a=="/"?1:-1)+";}\n"+"if(bv>av||av==null){return "+(a=="/"?-1:1)+";}\n";})+"return 0;})";}_1d=t.match(/^\[(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)\]/);if(_1d){_1a("s");return ","+(_1d[1]||0)+","+(_1d[2]||0)+","+(_1d[3]||1)+")";}if(t.match(/^\.\.|\.\*|\[\s*\*\s*\]|,/)){_1a("e");return (t.charAt(1)=="."?",'"+b+"'":t.match(/,/)?","+t:"")+")";}return t;}).replace(/(\$obj\s*((\.\s*[\w_$]+\s*)|(\[\s*`([0-9]+)\s*`\]))*)(==|~)\s*`([0-9]+)/g,_1c).replace(/`([0-9]+)\s*(==|~)\s*(\$obj\s*((\.\s*[\w_$]+)|(\[\s*`([0-9]+)\s*`\]))*)/g,function(t,a,b,c,d,e,f,g){return _1c(t,c,d,e,f,g,b,a);});_17=_19+(_17.charAt(0)=="$"?"":"$")+_17.replace(/`([0-9]+|\])/g,function(t,a){return a=="]"?"]":str[a];});var _1f=eval("1&&function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj=$;return "+_17+"}");for(var i=0;i<arguments.length-1;i++){arguments[i]=arguments[i+1];}return obj?_1f.apply(this,arguments):_1f;};})();}}};});
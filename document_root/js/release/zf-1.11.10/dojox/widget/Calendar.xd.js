/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.widget.Calendar"],["require","dijit.Calendar"],["require","dijit._Container"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.widget.Calendar"]){_4._hasResource["dojox.widget.Calendar"]=true;_4.provide("dojox.widget.Calendar");_4.experimental("dojox.widget.Calendar");_4.require("dijit.Calendar");_4.require("dijit._Container");_4.declare("dojox.widget._CalendarBase",[_5._Widget,_5._Templated,_5._Container],{templateString:_4.cache("dojox.widget","Calendar/Calendar.html","<div class=\"dojoxCalendar\">\n    <div tabindex=\"0\" class=\"dojoxCalendarContainer\" style=\"visibility: visible;\" dojoAttachPoint=\"container\">\n\t\t<div style=\"display:none\">\n\t\t\t<div dojoAttachPoint=\"previousYearLabelNode\"></div>\n\t\t\t<div dojoAttachPoint=\"nextYearLabelNode\"></div>\n\t\t\t<div dojoAttachPoint=\"monthLabelSpacer\"></div>\n\t\t</div>\n        <div class=\"dojoxCalendarHeader\">\n            <div>\n                <div class=\"dojoxCalendarDecrease\" dojoAttachPoint=\"decrementMonth\"></div>\n            </div>\n            <div class=\"\">\n                <div class=\"dojoxCalendarIncrease\" dojoAttachPoint=\"incrementMonth\"></div>\n            </div>\n            <div class=\"dojoxCalendarTitle\" dojoAttachPoint=\"header\" dojoAttachEvent=\"onclick: onHeaderClick\">\n            </div>\n        </div>\n        <div class=\"dojoxCalendarBody\" dojoAttachPoint=\"containerNode\"></div>\n        <div class=\"\">\n            <div class=\"dojoxCalendarFooter\" dojoAttachPoint=\"footer\">                        \n            </div>\n        </div>\n    </div>\n</div>\n"),_views:null,useFx:true,widgetsInTemplate:true,value:new Date(),constraints:null,footerFormat:"medium",constructor:function(){this._views=[];},postMixInProperties:function(){var c=this.constraints;if(c){var _7=_4.date.stamp.fromISOString;if(typeof c.min=="string"){c.min=_7(c.min);}if(typeof c.max=="string"){c.max=_7(c.max);}}},postCreate:function(){this.displayMonth=new Date(this.attr("value"));var _8={parent:this,_getValueAttr:_4.hitch(this,function(){return new Date(this._internalValue||this.value);}),_getDisplayMonthAttr:_4.hitch(this,function(){return new Date(this.displayMonth);}),_getConstraintsAttr:_4.hitch(this,function(){return this.constraints;}),getLang:_4.hitch(this,function(){return this.lang;}),isDisabledDate:_4.hitch(this,this.isDisabledDate),getClassForDate:_4.hitch(this,this.getClassForDate),addFx:this.useFx?_4.hitch(this,this.addFx):function(){}};_4.forEach(this._views,function(_9){var _a=new _9(_8,_4.create("div"));this.addChild(_a);var _b=_a.getHeader();if(_b){this.header.appendChild(_b);_4.style(_b,"display","none");}_4.style(_a.domNode,"visibility","hidden");_4.connect(_a,"onValueSelected",this,"_onDateSelected");_a.attr("value",this.attr("value"));},this);if(this._views.length<2){_4.style(this.header,"cursor","auto");}this.inherited(arguments);this._children=this.getChildren();this._currentChild=0;var _c=new Date();this.footer.innerHTML="Today: "+_4.date.locale.format(_c,{formatLength:this.footerFormat,selector:"date",locale:this.lang});_4.connect(this.footer,"onclick",this,"goToToday");var _d=this._children[0];_4.style(_d.domNode,"top","0px");_4.style(_d.domNode,"visibility","visible");var _e=_d.getHeader();if(_e){_4.style(_d.getHeader(),"display","");}_4[_d.useHeader?"removeClass":"addClass"](this.container,"no-header");_d.onDisplay();var _f=this;var _10=function(_11,_12,adj){_5.typematic.addMouseListener(_f[_11],_f,function(_13){if(_13>=0){_f._adjustDisplay(_12,adj);}},0.8,500);};_10("incrementMonth","month",1);_10("decrementMonth","month",-1);this._updateTitleStyle();},addFx:function(_14,_15){},_setValueAttr:function(_16){if(!_16["getFullYear"]){_16=_4.date.stamp.fromISOString(_16+"");}if(!this.value||_4.date.compare(_16,this.value)){_16=new Date(_16);this.displayMonth=new Date(_16);this._internalValue=_16;if(!this.isDisabledDate(_16,this.lang)&&this._currentChild==0){this.value=_16;this.onChange(_16);}this._children[this._currentChild].attr("value",this.value);return true;}return false;},isDisabledDate:function(_17,_18){var c=this.constraints;var _19=_4.date.compare;return c&&(c.min&&(_19(c.min,_17,"date")>0)||(c.max&&_19(c.max,_17,"date")<0));},onValueSelected:function(_1a){},_onDateSelected:function(_1b,_1c,_1d){this.displayMonth=_1b;this.attr("value",_1b);if(!this._transitionVert(-1)){if(!_1c&&_1c!==0){_1c=this.attr("value");}this.onValueSelected(_1c);}},onChange:function(_1e){},onHeaderClick:function(e){this._transitionVert(1);},goToToday:function(){this.attr("value",new Date());this.onValueSelected(this.attr("value"));},_transitionVert:function(_1f){var _20=this._children[this._currentChild];var _21=this._children[this._currentChild+_1f];if(!_21){return false;}_4.style(_21.domNode,"visibility","visible");var _22=_4.style(this.containerNode,"height");_21.attr("value",this.displayMonth);if(_20.header){_4.style(_20.header,"display","none");}if(_21.header){_4.style(_21.header,"display","");}_4.style(_21.domNode,"top",(_22*-1)+"px");_4.style(_21.domNode,"visibility","visible");this._currentChild+=_1f;var _23=_22*_1f;var _24=0;_4.style(_21.domNode,"top",(_23*-1)+"px");var _25=_4.animateProperty({node:_20.domNode,properties:{top:_23},onEnd:function(){_4.style(_20.domNode,"visibility","hidden");}});var _26=_4.animateProperty({node:_21.domNode,properties:{top:_24},onEnd:function(){_21.onDisplay();}});_4[_21.useHeader?"removeClass":"addClass"](this.container,"no-header");_25.play();_26.play();_20.onBeforeUnDisplay();_21.onBeforeDisplay();this._updateTitleStyle();return true;},_updateTitleStyle:function(){_4[this._currentChild<this._children.length-1?"addClass":"removeClass"](this.header,"navToPanel");},_slideTable:function(_27,_28,_29){var _2a=_27.domNode;var _2b=_2a.cloneNode(true);var _2c=_4.style(_2a,"width");_2a.parentNode.appendChild(_2b);_4.style(_2a,"left",(_2c*_28)+"px");_29();var _2d=_4.animateProperty({node:_2b,properties:{left:_2c*_28*-1},duration:500,onEnd:function(){_2b.parentNode.removeChild(_2b);}});var _2e=_4.animateProperty({node:_2a,properties:{left:0},duration:500});_2d.play();_2e.play();},_addView:function(_2f){this._views.push(_2f);},getClassForDate:function(_30,_31){},_adjustDisplay:function(_32,_33,_34){var _35=this._children[this._currentChild];var _36=this.displayMonth=_35.adjustDate(this.displayMonth,_33);this._slideTable(_35,_33,function(){_35.attr("value",_36);});}});_4.declare("dojox.widget._CalendarView",_5._Widget,{headerClass:"",useHeader:true,cloneClass:function(_37,n,_38){var _39=_4.query(_37,this.domNode)[0];var i;if(!_38){for(i=0;i<n;i++){_39.parentNode.appendChild(_39.cloneNode(true));}}else{var _3a=_4.query(_37,this.domNode)[0];for(i=0;i<n;i++){_39.parentNode.insertBefore(_39.cloneNode(true),_3a);}}},_setText:function(_3b,_3c){if(_3b.innerHTML!=_3c){_4.empty(_3b);_3b.appendChild(_4.doc.createTextNode(_3c));}},getHeader:function(){return this.header||(this.header=this.header=_4.create("span",{"class":this.headerClass}));},onValueSelected:function(_3d){},adjustDate:function(_3e,_3f){return _4.date.add(_3e,this.datePart,_3f);},onDisplay:function(){},onBeforeDisplay:function(){},onBeforeUnDisplay:function(){}});_4.declare("dojox.widget._CalendarDay",null,{parent:null,constructor:function(){this._addView(_6.widget._CalendarDayView);}});_4.declare("dojox.widget._CalendarDayView",[_6.widget._CalendarView,_5._Templated],{templateString:_4.cache("dojox.widget","Calendar/CalendarDay.html","<div class=\"dijitCalendarDayLabels\" style=\"left: 0px;\" dojoAttachPoint=\"dayContainer\">\n\t<div dojoAttachPoint=\"header\">\n\t\t<div dojoAttachPoint=\"monthAndYearHeader\">\n\t\t\t<span dojoAttachPoint=\"monthLabelNode\" class=\"dojoxCalendarMonthLabelNode\"></span>\n\t\t\t<span dojoAttachPoint=\"headerComma\" class=\"dojoxCalendarComma\">,</span>\n\t\t\t<span dojoAttachPoint=\"yearLabelNode\" class=\"dojoxCalendarDayYearLabel\"></span>\n\t\t</div>\n\t</div>\n\t<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"margin: auto;\">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<td class=\"dijitCalendarDayLabelTemplate\"><div class=\"dijitCalendarDayLabel\"></div></td>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody dojoAttachEvent=\"onclick: _onDayClick\">\n\t\t\t<tr class=\"dijitCalendarWeekTemplate\">\n\t\t\t\t<td class=\"dojoxCalendarNextMonth dijitCalendarDateTemplate\">\n\t\t\t\t\t<div class=\"dijitCalendarDateLabel\"></div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</div>\n"),datePart:"month",dayWidth:"narrow",postCreate:function(){this.cloneClass(".dijitCalendarDayLabelTemplate",6);this.cloneClass(".dijitCalendarDateTemplate",6);this.cloneClass(".dijitCalendarWeekTemplate",5);var _40=_4.date.locale.getNames("days",this.dayWidth,"standAlone",this.getLang());var _41=_4.cldr.supplemental.getFirstDayOfWeek(this.getLang());_4.query(".dijitCalendarDayLabel",this.domNode).forEach(function(_42,i){this._setText(_42,_40[(i+_41)%7]);},this);},onDisplay:function(){if(!this._addedFx){this._addedFx=true;this.addFx(".dijitCalendarDateTemplate div",this.domNode);}},_onDayClick:function(e){if(typeof (e.target._date)=="undefined"){return;}var _43=new Date(this.attr("displayMonth"));var p=e.target.parentNode;var c="dijitCalendar";var d=_4.hasClass(p,c+"PreviousMonth")?-1:(_4.hasClass(p,c+"NextMonth")?1:0);if(d){_43=_4.date.add(_43,"month",d);}_43.setDate(e.target._date);if(this.isDisabledDate(_43)){_4.stopEvent(e);return;}this.parent._onDateSelected(_43);},_setValueAttr:function(_44){this._populateDays();},_populateDays:function(){var _45=new Date(this.attr("displayMonth"));_45.setDate(1);var _46=_45.getDay();var _47=_4.date.getDaysInMonth(_45);var _48=_4.date.getDaysInMonth(_4.date.add(_45,"month",-1));var _49=new Date();var _4a=this.attr("value");var _4b=_4.cldr.supplemental.getFirstDayOfWeek(this.getLang());if(_4b>_46){_4b-=7;}var _4c=_4.date.compare;var _4d=".dijitCalendarDateTemplate";var _4e="dijitCalendarSelectedDate";var _4f=this._lastDate;var _50=_4f==null||_4f.getMonth()!=_45.getMonth()||_4f.getFullYear()!=_45.getFullYear();this._lastDate=_45;if(!_50){_4.query(_4d,this.domNode).removeClass(_4e).filter(function(_51){return _51.className.indexOf("dijitCalendarCurrent")>-1&&_51._date==_4a.getDate();}).addClass(_4e);return;}_4.query(_4d,this.domNode).forEach(function(_52,i){i+=_4b;var _53=new Date(_45);var _54,_55="dijitCalendar",adj=0;if(i<_46){_54=_48-_46+i+1;adj=-1;_55+="Previous";}else{if(i>=(_46+_47)){_54=i-_46-_47+1;adj=1;_55+="Next";}else{_54=i-_46+1;_55+="Current";}}if(adj){_53=_4.date.add(_53,"month",adj);}_53.setDate(_54);if(!_4c(_53,_49,"date")){_55="dijitCalendarCurrentDate "+_55;}if(!_4c(_53,_4a,"date")&&!_4c(_53,_4a,"month")&&!_4c(_53,_4a,"year")){_55=_4e+" "+_55;}if(this.isDisabledDate(_53,this.getLang())){_55=" dijitCalendarDisabledDate "+_55;}var _56=this.getClassForDate(_53,this.getLang());if(_56){_55+=_56+" "+_55;}_52.className=_55+"Month dijitCalendarDateTemplate";_52.dijitDateValue=_53.valueOf();var _57=_4.query(".dijitCalendarDateLabel",_52)[0];this._setText(_57,_53.getDate());_57._date=_57.parentNode._date=_53.getDate();},this);var _58=_4.date.locale.getNames("months","wide","standAlone",this.getLang());this._setText(this.monthLabelNode,_58[_45.getMonth()]);this._setText(this.yearLabelNode,_45.getFullYear());}});_4.declare("dojox.widget._CalendarMonthYear",null,{constructor:function(){this._addView(_6.widget._CalendarMonthYearView);}});_4.declare("dojox.widget._CalendarMonthYearView",[_6.widget._CalendarView,_5._Templated],{templateString:_4.cache("dojox.widget","Calendar/CalendarMonthYear.html","<div class=\"dojoxCal-MY-labels\" style=\"left: 0px;\"\t\n\tdojoAttachPoint=\"myContainer\" dojoAttachEvent=\"onclick: onClick\">\n\t\t<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"margin: auto;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr class=\"dojoxCal-MY-G-Template\">\n\t\t\t\t\t\t\t\t<td class=\"dojoxCal-MY-M-Template\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"dojoxCalendarMonthLabel\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td class=\"dojoxCal-MY-M-Template\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"dojoxCalendarMonthLabel\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td class=\"dojoxCal-MY-Y-Template\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"dojoxCalendarYearLabel\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td class=\"dojoxCal-MY-Y-Template\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"dojoxCalendarYearLabel\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t </tr>\n\t\t\t\t\t\t <tr class=\"dojoxCal-MY-btns\">\n\t\t\t\t\t\t \t <td class=\"dojoxCal-MY-btns\" colspan=\"4\">\n\t\t\t\t\t\t \t\t <span class=\"dijitReset dijitInline dijitButtonNode ok-btn\" dojoAttachEvent=\"onclick: onOk\" dojoAttachPoint=\"okBtn\">\n\t\t\t\t\t\t \t \t \t <button\tclass=\"dijitReset dijitStretch dijitButtonContents\">OK</button>\n\t\t\t\t\t\t\t\t </span>\n\t\t\t\t\t\t\t\t <span class=\"dijitReset dijitInline dijitButtonNode cancel-btn\" dojoAttachEvent=\"onclick: onCancel\" dojoAttachPoint=\"cancelBtn\">\n\t\t\t\t\t\t \t \t\t <button\tclass=\"dijitReset dijitStretch dijitButtonContents\">Cancel</button>\n\t\t\t\t\t\t\t\t </span>\n\t\t\t\t\t\t \t </td>\n\t\t\t\t\t\t </tr>\n\t\t\t\t</tbody>\n\t\t</table>\n</div>\n"),datePart:"year",displayedYears:10,useHeader:false,postCreate:function(){this.cloneClass(".dojoxCal-MY-G-Template",5,".dojoxCal-MY-btns");this.monthContainer=this.yearContainer=this.myContainer;var _59="dojoxCalendarYearLabel";var _5a="dojoxCalendarDecrease";var _5b="dojoxCalendarIncrease";_4.query("."+_59,this.myContainer).forEach(function(_5c,idx){var _5d=_5b;switch(idx){case 0:_5d=_5a;case 1:_4.removeClass(_5c,_59);_4.addClass(_5c,_5d);break;}});this._decBtn=_4.query("."+_5a,this.myContainer)[0];this._incBtn=_4.query("."+_5b,this.myContainer)[0];_4.query(".dojoxCal-MY-M-Template",this.domNode).filter(function(_5e){return _5e.cellIndex==1;}).addClass("dojoxCal-MY-M-last");_4.connect(this,"onBeforeDisplay",_4.hitch(this,function(){this._cachedDate=new Date(this.attr("value").getTime());this._populateYears(this._cachedDate.getFullYear());this._populateMonths();this._updateSelectedMonth();this._updateSelectedYear();}));_4.connect(this,"_populateYears",_4.hitch(this,function(){this._updateSelectedYear();}));_4.connect(this,"_populateMonths",_4.hitch(this,function(){this._updateSelectedMonth();}));this._cachedDate=this.attr("value");this._populateYears();this._populateMonths();this.addFx(".dojoxCalendarMonthLabel,.dojoxCalendarYearLabel ",this.myContainer);},_setValueAttr:function(_5f){this._populateYears(_5f.getFullYear());},getHeader:function(){return null;},_getMonthNames:function(_60){this._monthNames=this._monthNames||_4.date.locale.getNames("months",_60,"standAlone",this.getLang());return this._monthNames;},_populateMonths:function(){var _61=this._getMonthNames("abbr");_4.query(".dojoxCalendarMonthLabel",this.monthContainer).forEach(_4.hitch(this,function(_62,cnt){this._setText(_62,_61[cnt]);}));var _63=this.attr("constraints");if(_63){var _64=new Date();_64.setFullYear(this._year);var min=-1,max=12;if(_63.min){var _65=_63.min.getFullYear();if(_65>this._year){min=12;}else{if(_65==this._year){min=_63.min.getMonth();}}}if(_63.max){var _66=_63.max.getFullYear();if(_66<this._year){max=-1;}else{if(_66==this._year){max=_63.max.getMonth();}}}_4.query(".dojoxCalendarMonthLabel",this.monthContainer).forEach(_4.hitch(this,function(_67,cnt){_4[(cnt<min||cnt>max)?"addClass":"removeClass"](_67,"dijitCalendarDisabledDate");}));}var h=this.getHeader();if(h){this._setText(this.getHeader(),this.attr("value").getFullYear());}},_populateYears:function(_68){var _69=this.attr("constraints");var _6a=_68||this.attr("value").getFullYear();var _6b=_6a-Math.floor(this.displayedYears/2);var min=_69&&_69.min?_69.min.getFullYear():_6b-10000;_6b=Math.max(min,_6b);this._displayedYear=_6a;var _6c=_4.query(".dojoxCalendarYearLabel",this.yearContainer);var max=_69&&_69.max?_69.max.getFullYear()-_6b:_6c.length;var _6d="dijitCalendarDisabledDate";_6c.forEach(_4.hitch(this,function(_6e,cnt){if(cnt<=max){this._setText(_6e,_6b+cnt);_4.removeClass(_6e,_6d);}else{_4.addClass(_6e,_6d);}}));if(this._incBtn){_4[max<_6c.length?"addClass":"removeClass"](this._incBtn,_6d);}if(this._decBtn){_4[min>=_6b?"addClass":"removeClass"](this._decBtn,_6d);}var h=this.getHeader();if(h){this._setText(this.getHeader(),_6b+" - "+(_6b+11));}},_updateSelectedYear:function(){this._year=String((this._cachedDate||this.attr("value")).getFullYear());this._updateSelectedNode(".dojoxCalendarYearLabel",_4.hitch(this,function(_6f,idx){return this._year!==null&&_6f.innerHTML==this._year;}));},_updateSelectedMonth:function(){var _70=(this._cachedDate||this.attr("value")).getMonth();this._month=_70;this._updateSelectedNode(".dojoxCalendarMonthLabel",function(_71,idx){return idx==_70;});},_updateSelectedNode:function(_72,_73){var sel="dijitCalendarSelectedDate";_4.query(_72,this.domNode).forEach(function(_74,idx,_75){_4[_73(_74,idx,_75)?"addClass":"removeClass"](_74.parentNode,sel);});var _76=_4.query(".dojoxCal-MY-M-Template div",this.myContainer).filter(function(_77){return _4.hasClass(_77.parentNode,sel);})[0];if(!_76){return;}var _78=_4.hasClass(_76,"dijitCalendarDisabledDate");_4[_78?"addClass":"removeClass"](this.okBtn,"dijitDisabled");},onClick:function(evt){var _79;var _7a=this;var sel="dijitCalendarSelectedDate";function hc(c){return _4.hasClass(evt.target,c);};if(hc("dijitCalendarDisabledDate")){_4.stopEvent(evt);return false;}if(hc("dojoxCalendarMonthLabel")){_79="dojoxCal-MY-M-Template";this._month=evt.target.parentNode.cellIndex+(evt.target.parentNode.parentNode.rowIndex*2);this._cachedDate.setMonth(this._month);this._updateSelectedMonth();}else{if(hc("dojoxCalendarYearLabel")){_79="dojoxCal-MY-Y-Template";this._year=Number(evt.target.innerHTML);this._cachedDate.setYear(this._year);this._populateMonths();this._updateSelectedYear();}else{if(hc("dojoxCalendarDecrease")){this._populateYears(this._displayedYear-10);return true;}else{if(hc("dojoxCalendarIncrease")){this._populateYears(this._displayedYear+10);return true;}else{return true;}}}}_4.stopEvent(evt);return false;},onOk:function(evt){_4.stopEvent(evt);if(_4.hasClass(this.okBtn,"dijitDisabled")){return false;}this.onValueSelected(this._cachedDate);return false;},onCancel:function(evt){_4.stopEvent(evt);this.onValueSelected(this.attr("value"));return false;}});_4.declare("dojox.widget.Calendar2Pane",[_6.widget._CalendarBase,_6.widget._CalendarDay,_6.widget._CalendarMonthYear],{});_4.declare("dojox.widget.Calendar",[_6.widget._CalendarBase,_6.widget._CalendarDay,_6.widget._CalendarMonthYear],{});_4.declare("dojox.widget.DailyCalendar",[_6.widget._CalendarBase,_6.widget._CalendarDay],{});_4.declare("dojox.widget.MonthAndYearlyCalendar",[_6.widget._CalendarBase,_6.widget._CalendarMonthYear],{});}}};});
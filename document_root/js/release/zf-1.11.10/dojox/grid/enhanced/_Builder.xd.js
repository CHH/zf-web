/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.grid.enhanced._Builder"],["require","dojox.grid._Builder"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.grid.enhanced._Builder"]){_4._hasResource["dojox.grid.enhanced._Builder"]=true;_4.provide("dojox.grid.enhanced._Builder");_4.require("dojox.grid._Builder");_4.declare("dojox.grid.enhanced._BuilderMixin",null,{generateCellMarkup:function(_7,_8,_9,_a){var _b=this.inherited(arguments);if(!_a){_b[4]+="<div class=\"dojoxGridCellContent\">";_b[6]="</div></td>";}return _b;},domouseup:function(e){if(e.cellNode){this.grid.onMouseUp(e);}}});_4.declare("dojox.grid.enhanced._HeaderBuilder",[_6.grid._HeaderBuilder,_6.grid.enhanced._BuilderMixin],{getCellX:function(e){if(this.grid.nestedSorting){var _c=function(_d,_e){for(var n=_d;n&&_e(n);n=n.parentNode){}return n;};var _f=function(_10){var _11=_10.toUpperCase();return function(_12){return _12.tagName!=_11;};};var no=_c(e.target,_f("th"));var x=no?e.pageX-_4.coords(no,true).x:-1;if(_4.isIE){var _13=_4.body().getBoundingClientRect();var _14=(_13.right-_13.left)/document.body.clientWidth;return parseInt(x/_14);}return x;}return this.inherited(arguments);},decorateEvent:function(e){var _15=this.inherited(arguments);if(this.grid.nestedSorting){var _16=this.grid._getSortEventInfo(e);e.unarySortChoice=_16.unarySortChoice;e.nestedSortChoice=_16.nestedSortChoice;e.selectChoice=_16.selectChoice;}return _15;},doclick:function(e){if((this._skipBogusClicks&&!this.grid.nestedSorting)||(this.grid.nestedSorting&&this.grid.ignoreEvent(e))){_4.stopEvent(e);return true;}},colResizeSetup:function(e,_17){var _18=this.minColWidth;if(e.sourceView.grid.nestedSorting&&!this.grid.pluginMgr.isFixedCell(e.cell)){this.minColWidth=this.grid.getMinColWidth();var _19=_4.connect(this,"endResizeColumn",_4.hitch(this,function(){this.minColWidth=_18;_4.disconnect(_19);}));}var _1a=this.inherited(arguments);if(!_4._isBodyLtr()&&_4.isIE&&_1a.followers){_4.forEach(_1a.followers,function(_1b){if(!_1b.left){_1b.left=_4.position(_1b.node).x;}});}return _1a;}});_4.declare("dojox.grid.enhanced._ContentBuilder",[_6.grid._ContentBuilder,_6.grid.enhanced._BuilderMixin],{});}}};});